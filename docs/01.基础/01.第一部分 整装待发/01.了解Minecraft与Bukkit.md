---
title: 了解 Minecraft 与 Bukkit 插件
permalink: /basic/1-1
date: 2021-02-24 16:25:47
---

::: center
![Minecraft](https://i.loli.net/2020/07/17/mxz5V2kUb4cReZD.png)
:::

## Client (客户端) & Server (服务端) 运行机制

在了解插件以前，我们先需要了解客户端和服务端之间的运行机制，当服务端被 **第一次** 运行的时候，那里就会初始化生成一个 **最原本** 的世界，然后，我们使用客户端去连接服务端的时候，客户端会先把服务端的内容 `复制` 到本地，客户端与服务端之间会通过数据包的形式进行交互，比如，通过客户端在连接的服务器内放置一个草方块，就会产生一个类似于 `在 x,y,z 的坐标上 xxx 放置了一个草方块` 这样的数据包 (不要当真，就打个比方)，服务端就能通过数据包对本身的内容进行更变，然而，数据包的传输速度快到无法想象，我们就会感觉我们玩的是 **服务器** 而不是 **游戏本身**，当然也有例外，你的网线松了，最后失去与服务器的连接。

## 各式各样的服务端

如果你曾经开过服务器，你会发现有这么多种服务端

- **`Vanilla`** 香草，官方服务端
- **`CraftBukkit`** 水桶服，最基本的 Bukkit 插件服务端
- **`Spigot`** 水龙头，基于 CraftBukkit，但超于 CraftBukkit
- **`Paper/Torch Spigot`** 水龙头的改造端，性能不输 Spigot
- **`ForgeMinecraftServer`** 如果你做过模组，这个就是专门给纯模组服务器的，只不过它不支持任何插件
- **`Sponge`** 模组+插件的典型服务端，但是 Sponge 有 Sponge 自己的插件，Bukkit 插件并不适用 Sponge
- **`BungeeCord`** 蹦极端，就是我们常说的 BC 桥，是链接不同服务器之间的桥端，如果你在一个服务器内可以用 `/server xxx`，那么这两个服务器应该有个 BC 桥
- **`Catserver`** 猫服，Bukkit+Forge 的整合端，是 ForgeMinecraftServer 和 CraftBukkit 的并集，在 1.12.2 版本是很稳定的
- **`Mohist`**，和 Catserver 差不多的地位，给人感觉也不差
- **`Arclight`** 弧光，Catserver 很针对 1.12.2 的 Minecraft，而 Arclight 的定位在高版本 Minecraft

这就是现在社区里常见的服务端形式，但我们的教程 **只对支持 Bukkit 插件** 的服务端有效！

## Bukkit 的黑历史和插件的由来

我们买过国际正版的 Minecraft 玩家都知道，我们花了 ￥165 去购买这款优秀的游戏，然后我们又知道 Minecraft 是用 Java 写成的，并且代码经过了 **混淆**，然而最开始的 Bukkit 老行了，把 Minecraft 源码 **反编译+反混淆**，本来 Minecraft 就是个墙上的空面板，而 Bukkit 就直接在 Minecraft 源码上把空面板弄成一个可以用的插座，而插件就是插头🔌，后来不用说了吧，按照《数字千年版权法案》，Bukkit 最终败诉，但到现在，Spigot 的 **`BuildTools`** 就是解决这种事情的方法，**下载、反编译（没有反混淆！）、加入 Bukkit API 和 Spigot API、编译、打包**，一个全新的 `spigot-xxx.jar` 就生成了，Spigot 并没有反混淆 Minecraft，所以 MOJANG 也没什么动静。

## 插件？仅此而已。

我没有装载模组，所以如果要什么奇葩的东西出来，仅凭w插件之力，是永远不可能实现的，因为，插件是 **基于原版**，即利用所有的原版机制，在上面搞超于原版机制的事情，你可能会纳闷一些奇怪的武器是怎么产生的，小游戏服务器为什么不装模组就能玩，这些都只是插件在搞鬼罢了，你的客户端 **不需要做出任何改变**，只需要服务器装载了插件，就能发出 **让客户端纳闷的数据包**，但客户端对服务端却是 **100%** 信任，不会阻挡服务端给客户端的任何数据包。